<!DOCTYPE html>
<html>
<head>
    <title>Redirecting...</title>
    <meta http-equiv="refresh" content="0; url='#'" id="redirect-meta">
</head>
<body>
    <p>Loading the Pixel Magic Tool...</p>
    <a id="manual-link" href="#">If you aren't redirected, click here.</a>
    
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const hostname = urlParams.get('hn'); 

        if (hostname) {
            // Construct the final, insecure HTTP URL
            const httpUrl = `http://${hostname}/pxmagic.htm?hn=${hostname}`;

            // Set the meta tag to force the redirect (often bypasses mixed content blocks)
            document.getElementById("redirect-meta").content = `0; url=${httpUrl}`;
            
            // Set the manual fallback link
            document.getElementById("manual-link").href = httpUrl;
        }
    </script>
</body>
</html>
